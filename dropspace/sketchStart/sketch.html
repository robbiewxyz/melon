<html>
<head>
<title>Sketchpad</title>
<link rel="stylesheet" href="sketchStyle.css"/>

</head>

<element>
<body onload="init()" >
	<div class="SketchboardSideBar">
	
	</div>
    <canvas id="sketchpad" class="sketchBoard">
    </canvas>
</body>
</element>
</html>

<script type="text/javascript">
    var canvas,ctx;
	
	//var canvasPacketData[];

    var mouseX,mouseY,mouseDown=0//,mouseXPrev,mouseYPrev;
    function drawDot(ctx,x,y,size) {

        ctx.beginPath();
        ctx.arc(x, y, size, 0, Math.PI*2, true); 
        ctx.closePath();
        ctx.fill();
    }
	
	function drawLine(ctx,x,y,dx,dy,size){
		
		ctx.beginPath();
		ctx.moveTo(x,y);
		ctx.lineTo(dx,dy);
		ctx.lineWidth = size;
		ctx.stroke();
		
		
	}
	
	window.addEventListener('resize',resizeCanvas,false);
	
	function resizeCanvas()
	{
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		console.log('here');
	}
	
	
	
    function clearCanvas(canvas,ctx) {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    function sketchpad_mouseDown() {
        mouseDown=1;
        drawDot(ctx,mouseX,mouseY,0);
    }
    function sketchpad_mouseUp() {
        mouseDown=0;
    }
	
	
    function getMousePos(e) {
        if (!e)
            var e = event;

        if (e.offsetX) {
            mouseX = e.offsetX;
            mouseY = e.offsetY;
        }
        else if (e.layerX) {
            mouseX = e.layerX;
            mouseY = e.layerY;
        }
     }
	 
	function setColor(r,g,b){
		ctx.fillStyle = "rgba("+r+","+g+","+b+","+(a/255)+")";
	}
	 
	function sketchpad_mouseMove(e) { 
		mouseXPrev = mouseX;
		mouseYPrev = mouseY;
		
        getMousePos(e);

        if (mouseDown==1) {
            drawLine(ctx,mouseX,mouseY,mouseXPrev,mouseYPrev,10);
			drawDot(ctx,mouseX,mouseY,4.5);
        }
		
		setColor(0,0,0);
    }

    function init() {
        canvas = document.getElementById('sketchpad');
		
		resizeCanvas();
		
        if (canvas.getContext)
            ctx = canvas.getContext('2d');

        if (ctx) {
            canvas.addEventListener('mousedown', sketchpad_mouseDown, false);
            canvas.addEventListener('mousemove', sketchpad_mouseMove, false);
            window.addEventListener('mouseup', sketchpad_mouseUp, false);
        }
    }
</script>